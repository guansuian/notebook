

## 一句话定义（直接背）

> **慢 hash 是一种故意设计得计算很慢的密码哈希算法，用来提高暴力破解的成本。**

---

## 一、先纠正一个非常关键的认知

### ❌ 慢 hash ≠ 算法写得烂

### ✅ 慢 hash = **安全设计目标**

它“慢”是**刻意的**，不是性能差。

---

## 二、为什么需要「慢」？

### 攻击者真正干的事是什么？

不是算一次 hash，而是这样👇

```
123456
1234567
password
admin123
qwerty
...
```

👉 **暴力枚举 / 字典攻击**

---

### 快 hash vs 慢 hash（核心对比）

|算法|每秒能算多少次|
|---|---|
|MD5 / SHA1|几亿次|
|bcrypt / Argon2|几十～几百次|

📌 **差距是 10⁶～10⁸ 倍**

---

### 对服务器来说呢？

- 用户登录：  
    👉 一次 hash（100ms）  
    👉 **完全能接受**
    
- 攻击者：  
    👉 一亿次尝试 × 100ms  
    👉 **直接破产**
    

---

## 三、慢 hash 到底“慢”在哪？

慢 hash 通常具备 3 个特性（这是加分点）👇

### 1️⃣ 可调节计算成本

比如 bcrypt：

```text
cost = 10 / 12 / 14 ...
```

👉 cost 每 +1  
👉 计算量 ×2

---

### 2️⃣ 内置 salt（非常重要）

- 不用你自己生成 salt
    
- 自动随机
    
- salt 会存进最终 hash 字符串
    

👉 **天然防彩虹表**

---

### 3️⃣ 抗 GPU / ASIC（高级点）

像 Argon2、scrypt：

- 不只吃 CPU
    
- 还吃内存
    

👉 防止攻击者用 GPU “暴力碾压”

---

## 四、慢 hash 和「加盐」的关系（你之前的问题在这）

> ❓ 慢 hash 是不是就是加盐？

❌ 不是  
✅ **慢 hash = 加盐 + 慢计算（通常一起提供）**

|作用|解决什么问题|
|---|---|
|加盐|防彩虹表（预计算复用）|
|慢 hash|防暴力破解（算得太慢）|

👉 **两者是互补的，不是替代**

---

## 五、常见慢 hash 算法（面试必会）

|算法|说明|
|---|---|
|bcrypt|最常见，成熟稳定|
|scrypt|强内存消耗|
|Argon2|密码学竞赛冠军（推荐）|

📌 现在说一句就够了：

> 实际项目中一般使用 bcrypt 或 Argon2。

---

## 六、一个非常重要的面试扣分点 ⚠️

### ❌ “我们用 MD5 加密密码”

这是**直接扣分**。

### ✅ 正确说法

> 我们使用 bcrypt 对密码进行哈希存储。

📌 **永远说 hash，不说加密**

---

## 七、面试官最爱追问的一问一答

**Q：慢 hash 会不会影响性能？**

标准回答👇

> 不会。  
> 密码校验发生在登录等低频操作中，  
> 相比安全收益，这点性能损耗是完全值得的。

---

## 八、终极总结（30 秒背诵版）

> 慢 hash 是一种专门用于密码存储的哈希算法，通过增加单次计算成本来限制攻击者的暴力破解速度。  
> 它通常内置随机 salt，既能防止彩虹表，又能显著提高离线破解成本，是现代后端密码存储的标准做法。

---

## 下一步（非常建议）

你已经把 **“原理”** 吃透了，下一步该落地了。

👉 我可以直接带你做一个：

- Spring Boot 登录注册
    
- bcrypt 存密码
    
- 面试时怎么讲
    

你想 **直接上代码**，还是 **先画一张登录流程图**？